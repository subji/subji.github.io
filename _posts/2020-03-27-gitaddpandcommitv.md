---
title: "Git add -P 와 commit -v 사용"
date: 2020-03-27
layout: single
classes: wide
categories: posts
tags: ["git"]
---

일반적으로 git add . 또는 git add --all 을 사용해서 한번에 변경 내용을 스테이징영역으로 올린다.

하지만 어떤 변경사항은 스테이징에 반영되면 안되거나 혹은 반영시키고 싶지 않은 경우가 있다.

그럴때 위에 언급한 명령어는 위험하다.

그래서 자기가 원하는 변경내용만 반영하는 방법이 있다.

아래 명령어를 입력하자


```sh
$ ~>  git add -p
```
<div>
  <img src="https://subji.github.io/assets/images/202003271229.jpeg" />
</div>

위 그림과 같이 추가/수정/삭제가 된 부분이 하이라이팅되어 표시된다.

그리고 변경내용을 반영할지 안할지를 묻는 곳에서 원하는대로 선택할 수 있다.

주요 선택 옵션의 내용은 다음과 같다. 

다음 내용에서 hunk 는 변경내용의 단위를 가리킨다.

- y: 현재 hunk 를 스테이징 영역으로 이동
- n: 현재 hunk 를 스테이징 영역으로 보내지 않는다.
- q: add 과정을 종료한다.

이외에도 여러 옵션이 있다. 자세한 내용은 ? 를 입력하여 확인해보자.

그리고 다음은 commit -v 에 대한 내용인데

위에서 스테이징으로 추가된 내용을 다시한번 확인 할 수 있다.

```sh
$ ~> git commit -v
```

를 입력하면 기본 에디터 화면이 열리면서 변경된 내용이 출력된다.

git diff --staged 라는 비스무리한 명령어도 있는데 이것도 확인해봐야 겠다.